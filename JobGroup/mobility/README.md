# 자율주행(모빌리티)

`목차`

* [개요](#개요)
* [자율주행이란?](#자율주행이란)
* [자율주행의 필요성](#자율주행의-필요성)
* [자율주행 자동화 단계](#자율주행-자동화-단계)
* [자율주행 3단계 핵심기술](#자율주행-3단계-핵심기술)
* [멘티 활동 일지](#멘티-활동-일지)
* [우분투 환경 기타 설정](#우분투-환경-기타-설정)

`관련 내용`

- [ROS](./ROS)
- [인지(Cognition)](./cognition)
- [판단(Judgment)](./judgment)
- [제어(Control)](./control)
- [알파카 프로젝트 README](./AlphaCar)

## 개요

그 강의에서 특화 프로젝트(2학기 두번째 프로젝트)로 unity를 기반으로 만든 `Morai 시뮬레이터`와 oracle의 `VirtualBox`를 활용하여 설치한 우분투의 `ROS`와 통신하여 시뮬레이터 속의 가상의 자동차를 자율주행할 수 있도록 만드는 프로젝트를 진행하게 되었다.

아직 프로젝트 이름을 붙이지 않아 임시로 `자율주행(모빌리티)`라고 붙였다.

해당 레포지토리는 프로젝트를 진행하기 위해서 공부한 내용을 정리하기 위해서 만들었다. 그 강의에서 제공하는 동영상과 다양한 자율주행 tech 기술 글들을 참고하여 작성하였다.

외부 페이지

- 실습에 사용한 [MORAI SIM Standard User Manual](https://help-morai-sim-en.scrollhelp.site/morai-sim-standard-en/)

## 자율주행이란?

주행자가 차량을 조작하지 않아도 자율적으로 움직이는 차량

2020년 기준으로 자율주행차량 시장규모는 71억 달러, 한화로 약 9조원  
2035년에는 1조 달러, 한화로 약 1200조원으로 예상하고 있다.

## 자율주행의 필요성

- 운전자의 실수에 따른 차량 사고가 전체 자동차 사고의 90% 이상을 차지한다.
- 운전자 대신 운전을 하는 자율주행차량이 있다면 사고가 줄어들거라는 기대 상승
  - 2020년 4분기 기준 테슬라 ADAS는 1억 6000만 km 당 46.8건의 교통사고가 발생하였고 사람이 운전한 경우 49.5건의 교통사고가 발생할 것으로 조사됨
- 악천후나 돌발상황의 경우 운전자의 대응이 부족한 상황
- 자율주행 자동차는 사고 시 치명상 확률이 더 높음
- 아직은 단점이 많이 보이지만 자율주행의 기술의 향상에 대한 기대치가 높고 기술 발전이 뒤쳐질수는 없기 때문에 지속적인 연구가 필요

## 자율주행 자동화 단계

자율주행 시스템이 얼마나 차량에 관여하는지에 따라서 SAE에서 정한 자율주행 자동화의 6단계

- SAE(Society of Automative Engineers)에서 정의
  - 레벨0 : 운전자가 차량을 제어
  - 레벨1 : 자율주행 시스템은 운전자를 보조, 시스템이 제한된 상황에서 속도나 조향을 하는 단계
  - 레벨2 : 시스템이 조향과 속도를 제어
  - 레벨3 : 비상시에만 운전자가 개입하고, 제한된 조건에서 차량이 자율적으로 주행
  - 레벨4 : 운전석이 필요없으며, 시스템이 특정지역에서 자율적으로 운행
  - 레벨5 : 레벨4와 같지만 모든 지역에 해당
- 현재 자율주행 단계는 2~3단계 수준에 머물러 있음

<img src="https://user-images.githubusercontent.com/19484971/188297523-b1254b60-9c87-4098-86f9-00e8b006489c.png" width=600>

> 미국 자동차 기술자협회(SAE) 기준 자율주행 레벨 구분. 자료/산업통상자원부

## 자율주행 3단계 핵심기술

- 자율주행 자동차에서 핵심기술이자 프로제스 3단계
  - 인지 : 주변 상황에 대한 정확한 인식
  - 판단 : 인식에 기반한 정확한 판단
  - 제어 : 판단에 기반한 올바른 제어

<img src="https://user-images.githubusercontent.com/19484971/188307408-33c25430-d45d-43f1-b23a-8a58c8618ff9.png" width=400> 
<자율주행 프로세스>

> 출처 : 현대자동차 공식블로그

## 멘티 활동 일지

현재 2022년 10월 기준 그 강의의 전문가 멘토님에게서 받은 답변 정리 내용이다.

- 자율주행 연구 인력 수요, 공급
  - 갑작스럽게 산업이 커져서 인지, 판단, 제어 모두 일손 부족
  - 인지는 임베디드 파트에서, 판단은 로봇 산업에서, 제어는 아주 적은 인력으로 유지되던 사람들의 기술로 연구개발이 진행중
  - 로봇산업의 판단 부분은 로보틱스, 인트로딕션(?)이라는 키워드로 검색하면 된다고 함
  - 제어는 경로추종제어는 별로 없지만, 비히클 다이나믹스 라는 차량의 간단한 알고리즘들은 알 수 있고 언급 + 수학의 동역학
  - 여러 파트를 동시에 공부하는 것 보다는 한 분야를 깊게 공부하고 다른 사람들과 협업하는 방식이 좋음
- 갑작스럽게 커진 산업이기 때문에 각 회사마다 제어나 센서에 다른 알고리즘을 가지고 있는 경우가 많다고 함
  - 즉, 정형화 되어있지 않음
  - 연구 개발이 경쟁적임
  - 가격대비 다양한 테스트가 필수적
  - 현업에서는 각 센서마다 팀이 따로 있으며 팀의 결과를 종합하여 테스트하는 팀도 따로 존재
  - 정보를 공개한 산업체가 거의 없음
- 라이더
  - 속도를 측정할 수 있는 유일한 센서
  - 라이더 대신 레이더를 사용하고 거리를 측정해서 미분하여 속도를 구하는 것도 방법
  - 위의 방법은 값이 많이 튀기 때문에 총합의 평균을 구하거나 특정 값은 무시하는 방법 등으로 보완이 필수
- 라이다와 레이다는 장단점에 따라 상황에 맞게 적절하게 사용하는 것이 일반적
- 학생의 신분으로는 가격보다는 시뮬레이터를 적극 활용한 학습 및 구현에 초점
- 필요한 정보가 있다면 논문을 찾아서라도, 코드가 필요하면 깃헙을 뒤져서라도 직접 찾아야 한다.
- 추천하는 도서 이름이.. 까먹었다. 대충 자율주행 초심자를 위한 도서라는 느낌의 단순한 이름의 책인데.. 이런;

## 우분투 환경 기타 설정

- 녹화 프로그램은 [simplescreen recorder](https://bigbigpark.tistory.com/37)를 사용하였다.
  - mp4로 설정하고 디코딩은 h.264로 설정하였는데 우분투에는 해당 디코딩 방식을 지원하지 않는 것 같다.
  - 추후 해결하였는데 어떻게 해결하였는지 기억이 안난다;
