# 어플리케이션

+ 디자인 패턴 (mvc, mvp, mvvm)
+ UI (jetpack, custom UI)
+ 4대 컴포넌트 (Activities, Services, BroadcaseReceivers, ContentProviders)
  + Activity 생명주기
+ framework
+ 비동기 통신 (AsyncTask, Coroutine)
+ API (RESTful API)
+ 유닛 테스트
+ 디버깅

참고 : https://jhpop.tistory.com/121

## 4대 컴포넌트

### Activity

#### Activity 생명주기

화면에서 나타나는 액티비티는 생성부터 소멸까지 다양한 상태를 거치는데 이러한 상태들의 과정을 이해하는 것은 중요하다. 다양한 앱들이 서로 간섭하거나 사용자가 앱을 조작하면서 앱이 생각과는 다르게 작동할 수도 있기 때문이다.   
아래와 같은 상황을 떠올려보자.

1. 앱을 사용하다가 다른 앱으로 전환할 때 강제 종료되는 경우   
: 유튜브 보다가 공유하기를 눌러서 카카오톡을 켰는데 유튜브가 강제 종료된다고 상상해보자

2. 앱을 사용하고 있지 않은데 리소스가 낭비되는 경우   
: 산속에서 GPS를 잡다가 안되서 포기하고 잠금 상태로 두었다고 치자.   
그리고 나중에 다시 폰을 켜보니 앱이 계속 GPS를 잡는다고 배터리를 다 사용했다고 상상해보자

3. 앱에서 나갔다가 다시 들어왔는데 사용자의 진행 상태가 저장되지 않은 경우   
: 게임 다운로드가 너무 오래 걸려서 잠시 카톡 보내고 왔는데 다시 처음부터 받아야 한다고 상상해보자

4. 화면 가로/세로 전환을 할 경우, 강제 종료되거나 진행 상태가 저장되지 않은 경우   
: 누워서 웹툰보다가 반대쪽으로 돌아누웠는데 앱이 갑자기 꺼졌다고 상상해보자

만일 생명주기를 알고 있지 않다면 위의 문제들를 해결하기 어려울 것이다.   
액티비티는 새로운 상태로 바뀌기 위해서 6개의 콜백함수 `onCreate()`, `onStart()`, `onResume()`, `onPause()`, `onStop()`, `onDestroy()` 를 사용한다.   
콜백함수에 종속되는 작업들도 있는데 해당 내용은 안드로이드 디벨로퍼를 참고하자.

<img src="https://developer.android.com/guide/components/images/activity_lifecycle.png?hl=ko" width="300">   
안드로이드 디벨로퍼 사이트의 액티비티 생명주기 사진

#### 1. onCreate()

가장 먼저 실행되면서도 필수적인 콜백으로 액티비티가 활동을 시작할 때 단 한 번만 불린다.   

때문에 액티비티 최초 실행 시에만 해야 할 작업을 넣어주며 보통은 화면 레이아웃 정의(사용자 인터페이스 선언)나 `ViewModel` 및 `savedInstanceState`을 통한 UI 관련 데이터를 저장하고 관리, 멤버 변수 정의 등을 넣어준다.

#### 2. onStart()

액티비티가 `Started` 상태에 들어가면 불리는 콜백이다.   
사용자에게 화면이 표시되고 상호작용의 준비를 한다.   

사용자에게 화면이 보이지 않다가 보이는 경우 불리는 것이 일반적이다. 작은 대화상자가 액티비티 위에 생성된 경우, 액티비티의 일부는 대화상자 뒤에서 사용자에게 계속 보여야 하므로 대화상자가 닫힌다고 해도 해당 함수가 불리지 않는다.   

해당 콜백이 완료되면 액티비티는 `Resumed` 상태가 되고 `onResume()`를 호출한다.

#### 3. onResume()

활동이 `Resumed` 상태가 되면 불리는 콜백함수이다. `Resumed` 상태는 일시정지(`Paused`) 되어있다가 재개되거나 `onStart()` 작업이 완료되면 되는 상태이다.   
사용자와 상호작용이 가능하고 액티비티가 포커스를 가지고 있다.   

`onPause()`에서 중지한 작업을 다시 재개하는 작업을 한다. 예를 들면 잠시 꺼둔 GPS 통신이나 카메라를 다시 작동시키는 것 등이 있다.

인터럽트가 발생하면 `Paused` 상태에 들어가고 `onPause()` 콜백을 호출한다.

#### 4. onPause()

액티비티가 포커스를 잃고 포그라운드에서 백그라운드로 옮겨지면 불리는 콜백이다.   
단, 멀티 윈도우 모드 혹은 대화상자와 같은 액티비티가 완전히 가리지 않는 창이 나온 경우에는 포그라운드에 머문다.

포커스를 잃는 상황은 대표적으로 다른 앱이 호출되거나(전화가 오거나), 다른 화면으로 이동하거나, 핸드폰의 화면이 꺼지는 상황이 대표적이다. 이와 같은 경우 액티비티가 



#### 1. onCreate



일반적으로 실행하던 작업을 멈추거나 멈추게될 작업을 계속 실행시키는 코드를 적어넣는다.   
대표적으로 화면이 꺼진 네비게이션은 GPS 수신을 잠시 멈추는 기능과 화면이 꺼져도 게임 다운로드를 계속하는 기능이 있으며 둘 모두 해당 함수에서 구현한다.

#### 1. onCreate



#### 1. onCreate
##### 참고

+ [안드로이드 액티비티 생명주기 (Activity Life cycle)](https://todaycode.tistory.com/25)
+ [활동 수명 주기에 관한 이해(developer.android)](https://developer.android.com/guide/components/activities/activity-lifecycle?hl=ko)
