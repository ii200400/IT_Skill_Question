# 3-3 Web

1. [HTML](./html)
2. [CSS](./css)
3. [JavaScript](./JavaScript)
4. [BootStrap](./bootstrap)
5. [DB](https://github.com/ii200400/IT_Skill_Question/tree/master/CS/Database)
6. [BackEnd](./backend)
7. [Spring](./spring)
8. [Vue](./vue)

## 개요

기본적으로 사용되는 HTML5 웹 문서는 3가지 구성요소가 있다.

+ HTML5(Hyper Text Markup Language)   
  기본적인 Markup Language 에 링크의 기능을 추가한 마크업 언어.
  웹 페이지의 문서 구조 담당
+ CSS(Cascading Style Sheets)   
  웹 페이지의 디자인(표현)을 담당
+ JS(JavaScript)   
  웹 페이지의 이벤트 담당

jdbc를 어디에 넣어야 할지 모르겠네;; 아이고난;;
자바로 디비를 컨트롤하는 기능이라고 생각하고 있다.

## cookie session

클라이언트의 요청에 대한 서버의 응답 직후 연결이 끊어지는 http 특징(stateless)으로 인해 같은 클라이언트가 요청을 해도 서버는 이전과 지금의 클라이언트가 같은지 알 수 있는 방법이 없다. 이와 같은 문제를 해결하기 위해 Cookie와 Session을 사용한다.

로그인 했다고 연결이 되어있다는 것이 아니고 request를 보내고 response를 받을 때까지만 연결을 하는 이유는 웹은 세계의 모든 사람들이 접근 가능한데, 한 번 연결했다고 계속 연결이 유지되면 메모리 자원이 빠르게 고갈되기 때문이라고 한다.

### 쿠키

서버와 통신하는 **클라이언트에 저장**되는 자그마한 데이터이다.   
클라이언트에 텍스트 파일형식으로 key와 value 쌍의 문자열(String) 형태로 저장된다.

브라우저(IE, 크롬, 파이어폭스..)가 클라이언트의 별도 요청 없이도 항상 Request Header에 쿠키를 넣어 서버로 전송하며 브라우저마다 쿠키를 따로 관리하기 때문에 브라우저가 다르면 쿠키도 다르고 서버는 다른 클라이언트라고 인식한다. 

쿠키는 

쿠키를 사용하는 이유는 아래와 같다.
1. 서버가 알아야할 정보(세션관리 정보 등)를 저장
2. 사용자 편의를 위해 (ID 저장, 일주일간 다시보지 않기)
3. 사용자마다 적절한 페이지 표시 (최근 검색한 상품 목록, 광고)
4. 트래킹(사용자의 행동과 패턴을 분석하고 기록)

동작순서

### Session

클라이언트가 웹 서버에 연결되어 있는 상태를 의미한다.   
WAS는 메모리에 객체 형태로 세션을 관리하며 메모리가 허용되는한 제한없이 저장이 가능하다.

일반적으로는 서버에서 클라이언트의 정보를 일정기간 저장하기 위해 사용하며 대표적으로는 로그인 유지나 장바구니 품목 관리에 쓰인다.

## Web Architecture

사용자와 직접 상호작용하지는 않지만 프론트 엔드에서 보낸 정보(요청)를 토대로 적적한 정보를 반환(응답)하는 서버 역할을 가진다. 이 때 종종 DB의 데이터를 활용하기도 한다.

백엔드 서버는 크게 3가지로 나눌 수 있다.

+ 클라이언트의 접속을 확인하고 응답을 처리해주는 Web Server(웹 서버)
+ 클라이언트의 요청에 따른 로직을 처리하는 Application Server(어플리케이션 서버)
+ 응답에 사용될 데이터들을 저장하고 관리하는 DBMS(데이터 베이스 관리 시스템 이하 디비)

요청이 들어왔을 때 위의 서버들이 응답을 하기 까지의 과정은 간단하게는 아래와 같다.

첫번째로 어플리케이션 서버는 기본적으로 클라이언트가 입력한 정보를 받고   
두번째로 로직을 처리한다.   
로직은 크게 2가지로 나눌 수 있으며 일반적으로 사용하는 네이밍은 아래와 같다.
디비를 사용하지 않는 로직은 모두 비즈니스 로직이라고 생각하라고 하셨다.
1. Business Logic (비즈니스 로직) - Service.java
2. DB Logic (디비 로직) - Dao.java

마지막으로 위의 로직을 통해서 응답을 할 준비가 되었다면 클라이언트가 해석할 수 있는 html 형식으로 응답을 보낸다.

![image](https://user-images.githubusercontent.com/19484971/178147676-51b16d81-ac5e-43c6-97df-2453a741515e.png)   
(model 1 architecture)

웹 서버는 언어를 이해할 수 없기 때문에 어플리케이션 서버에게 로직을 맡기곤 했는데 요즘의 백엔드는 두 기능을 모두 가지는 서버인 Web Application Server(WAS 일명 와스)를 가지는 경우도 있다고 많다고 한다.

필자의 경우 교육과정에 따라 이클립스에서 Dymamic Web Project로 프로젝트(웹 어플리케이션)를 생성하고 무료 WAS인 Tomecat(톰캣) 9.0.60 버전을 사용하게 되었다.

중간에 Dto(data transfer object)와 Vo(value of)에 대해서 추가로 설명해주셨는데, DTO는 작업을 처리하기 위해서 사용자로부터 받는 데이터 객체(일반적으로 DB 테이블 중 하나와 같은 것)이고 VO는 응답 데이터를 반환하기 위해서 DB로부터 받은 데이터 객체(DTO와 같을 수도 있고 JOIN을 통해 DB 테이블에 없는 객체일 수 있는 것)라고 설명해주셨다.


