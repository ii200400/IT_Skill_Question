# 1-4. 데이터 베이스

+ RDBMS (관계형(Relational) 데이터베이스 시스템)
+ 정규화
  + 필요성
  + 종류
  + 역정규화
+ Transaction
  + 정의
  + 종류
+ 교착상태

## 개요

데이터는 아직 가공되지 않은 사실이나 값이고 이러한 데이터를 토대로 유용한 정보를 얻을 수 있다. 가치있는 정보를 얻기 위해서 다양하고 정확도가 높은 데이터가 필요하며, 그것들을 잘 관리하고 원하는 데이터만을 뽑아 활용할 수 있어야 하기 때문에 데이터베이스가 필요한 것 이다.

데이터베이스는 특정 조직의 여러 사용자가 `공유`하여 사용할 수 있도록 통합해서 저장한 관리받는 데이터의 집합이고 이러한 데이터베이스의 데이터를 저장하고, 저장된 데이터를 관리하는 프로그램을 데이터베이스 관리시스템(DataBase Management System)이라고 한다.

일반적으로 데이터베이스는 파일 형태로 존재하며 MySQL, OracleDB 등의 DBMS이 해당 파일을 조작하는데 사용하는 프로그램이된다.

해당 글은 본인이 듣고 있는 강의와 데이터베이스 개론 3판(김연희 저자)를 참고하여 작성하였음을 밝힌다.   
또한, 강의에서 MySQL을 사용하였기 때문에 해당 프로그램을 기준으로 작성할 예정이다.

용어 정리

+ 엔티티(Entity) : 현실에서 가치가 있는 사물이나 사람
+ 스키마(Schema) : 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것
+ 인스턴스(객체, instance) : 스키마의 정의를 기반으로 데이터베이스에 실제로 저장된 값


## RDBMS (관계형(Relational) 데이터베이스 시스템)

테이블기반(Table based)의 관계형 DBMS(Database Management system)을 의미한다.   
데이터들을 테이블 단위로 관리하며, 테이블끼리의 관계를 표시하여 데이터의 수정을 용이하도록 만든다.

예를 들어.. 아래와 같은 테이블을 사용하기보다는

| 사원 | 이름 | 부서 |
|---|---|---|
| 100 | 김 | 홍보부 |
| 101 | 이 | 촬영부 |
| 102 | 박 | 홍보부 |

아래와 같이 부서를 관리하는 테이블을 따로 관리하여 중복 데이터를 최소화시키고 데이터의 수정 및 삭제가 용이하도록 한다.   
예를 들어 홍보부 부서 명이 광고부로 바뀌는 상황이라면 두 번째 테이블의 홍보부 부서명만 바꾸면 된다. 만약 위의 테이블을 사용했다면, 부서가 홍보부인 사람을 모두 찾고 그 사람들의 부서를 모두 광고부로 고쳐야 할 것이다.  

| 사원 | 이름 | 부서 |
|---|---|---|
| 100 | 김 | 10 |
| 101 | 이 | 11 |
| 102 | 박 | 10 |

| 부서 | 부서명 |
|---|---|
| 10 | 홍보부 |
| 11 | 촬영부 |
| 12 | 의상부 |

위와같이 데이터들을 중복이 적게 테이블을 나누어 관리하는 과정을 정규화라고 한다.   
정규화 등의 이유로 분리된 테이블들의 관계를 살펴 테이블을 하나로 합치는 기능을 `join`이라고 한다.   
여러 데이터들을 관리하기 위해 테이블의 분리가 많이 일어나는 RDBMS에서 필수적인 기능이라고 생각한다.  

용어 정리

+ 필드(Field), 컬럼(Column), 속성(Attribute) : 데이터의 종류
+ 레코드(Record), 튜플(Tuple) : 데이터 집합
+ 테이블(Table) : 레코드의 집합

한 개념을 설명하는 용어가 저리 많은 이유는 아마도.. 데이터베이스를 관련해서 나온 이론들이(file system, E-R Diagram, DBMS 등) 각자 매우 비슷한 개념을 다른 용어를 붙여서 불렀는데 그것이 사람들에 의해서 섞인 것 같다;   
(스택 오버플로우에 의하면)현재는 우리나라뿐만 아니라 세계적으로도 비슷하게 대충 알아듣고 있는 것 같다.

## SQL (Structured Query Language)

+ Database에 있는 정보를 관리하는 프로그램인 DBMS를 조작할 수 있도록 지원하는 언어
  +  많은 종류가 있다
+ 기본적으로 언어의 대소문자는 구별하지 않는다. 
  + 데이터의 대소문자는 구별한다고 한다. 
  + Mysql은 인코딩에 따라 지원을 하지 않을 수도 있다.
+ 모든 DBMS에서 사용이 가능하다.
+ 크게 DCL, DDL, DML로 나눠진다.

### DDL (Data Control Language)

+ 데이터 정의어
  + 데이터베이스 객체의 구조를 정의
  + 테이블 생성, 컬럼 추가, 타입변경, 제약조건 지정/수정 등

+ 종류
  + create : 데이터베이스 객체를 생성
  + drop : 데이터베이스 객체를 삭제
  + alter : 기존에 존재하는 데이터베이스 객체를 수정

그룹함수를 사용하면 항상 한 줄로만 결과값이 나온다, 다른 일반 레코드 값을 사용해도 한 줄만 나온다.
DDL 이나 DML은 무조건 commit이 진행된다.

### DML (Data Manipulation Language)

+ 데이터 조작어
  + 데이터를 추가, 삭제, 수정하거나 검색하는 명령어
  + 위의 기능을 짧게 CURD라고 통칭한다.
    + `INSERT(create)` `SELECT(retrieve)` `UPDATE` `DELETE`

+ 종류
  + insert(C) : 데이터베이스 객체에 데이터를 입력
  + select(R) : 데이터베이스 객체에 데이터를 조회
  + update(U) : 데이터베이스 객체에 데이터를 수정
  + delete(D) : 데이터베이스 객체에 데이터를 삭제

### DCL (Data Definition Language)

+ 데이터 제어어
  + DB, Table의 접근 권한이나 CRUD 권한을 정의
  + 특정 사용자에게 테이블의 검색 권한 부여/금지 등

+ 종류
  + grant : 데이터베이스 객체에 권한을 부여
  + revoke : 데이터베이스 객체 권한 취소

### TCL (Transaction Control Language)

+ 트랜잭션 제어어
  + 트랜젝션을 제어할 때 사용하는 명령어
    + Transaction : 데이터베이스 논리적 연산 단위

+ 종류
  + commit : 실행한 Query를 최종적으로 적용
  + rollback : 실행한 Query를 마지막 commit 전으로 취소시켜 데이터를 복구








