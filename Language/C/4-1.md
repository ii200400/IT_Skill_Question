## 4 - 1. 계산하리

배우는 내용

- 산술 연산자
- 대입 연산자
- 비트 연산자, 쉬프트 연산자
- 변수에 관한 추가적인 내용
- 산술 변환, 우선 순위

### 산술연산자, 대입연산자

컴퓨터는 기본적으로 계산을 위해 생겨났다. 이 때문에 컴퓨터는 다양한 연산 능력을 가지게 되었고 프로그래밍 언어에서도 사용할 수 있다.

C언어에서 제공하는 연산은 다양하다. 대표적으로 산술연산자(＋, －, \*, /, %, Arithmetic Operator)와 대입연산자(=, Assignment Operator)가 있다.

```
#include <stdio.h>

int main() {
	int a = 10, b = 3;

	printf("a + b 는 : %d \n", a + b);
	printf("a - b 는 : %d \n", a - b);
	printf("a * b 는 : %d \n", a * b);
	printf("a / b 는 : %d \n", a / b);
	// 그냥 %는 printf의 특별한 문자(%d 같은..)이므로 %를 두 번 작성해서 문자인% 임을 알린다.
  // 또한 %는 프로그래밍 언어에서는 나머지를 구하는 연산이다. 나눗셈은 위의 / 이다.
	printf("a %% b 는 : %d \n", a % b);

	return 0;
}
```

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/2042a6ab-e985-44b4-80c5-ce5c184b4d41)

작성한 것과 같이 다양한 산술 연산자와 대입 연산자를 사용할 수 있다.

산술 연산자인 `=`은 프로그래밍 언어에서 `같다`는 의미가 아니라 우측의 값을 좌픅에 `대입하다`라는 의미이다. 뒤에서부터 읽으며 때문에 아래의 식은 틀렸다.

```
// 10에 a를 대입한다..?
10 = a;
```

그리고 아래의 두 코드는 같다.

```
a = 5;
b = 5;
c = 5;
d = 5;
```

```
a = b = c = d = 5;
```

위의 한 줄 코드의 경우 뒤에서부터 해석하므로 먼저 `d = 5`가 먼저 진행되고 다음으로 `c = d` 순으로 모든 변수에 5가 대입된다.

그럼 다음으로 산술 연산자를 보자.

```
printf("a + b 는 : %d \n", a + b);
printf("a - b 는 : %d \n", a - b);
printf("a * b 는 : %d \n", a* b);
printf("a / b 는 : %d \n", a / b);
printf("a %% b 는 : %d \n", a % b);
```

`a / b`가 3으로 출력되었는데 이는 결과가 `int`형으로 정수만을 저장할 수 있기 때문이다. `a % b`는 위에서 주석으로 작성한대로 나머지 연산으로 1이 결과로 나오게 된다.

참고로 나누기 연산은 제수(나누는) 값을 조심해야하는데 이유는 수학에서(컴퓨터에서) 어떠한 수를 0 으로 나누는 것은 금지되어 있기 때문이다. 두 가지 중 하나의 결과가 나온다.

1. 제수가 0(`int`)이라면 선언한 프로그램은 에러를 내뿜고 종료하게 된다.
2. 제수(나누는 값)이 0.0(`double` 혹은 `float`)이라면 결과가 inf 이라는 이상한 결과를 반환한다.

### 산술변환

아래의 코드를 실행시켜보자.

```
#include <stdio.h>

int main() {
	int a = 10, b = 3;

	printf("a / b 는 : %f \n", a / b);  // 해서는 안될 짓

	return 0;
}
```

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/c1b006a6-c85f-4273-a871-b23ba2c03bb8)

3.3333.. 이 아니라 0.00.. 이다. 이유는 `int`자료형을 산술연산하면 결과도 `int`자료형이기 때문에 `%f`를 사용하면 자료형이 맞지 않아 이상한 결과가 나오게 된다.

비쥬얼 스튜디오의 버전이 높다면 아래의 경고문도 볼 수 있다.

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/4ae35827-1b80-44b6-9fd6-89d1943553ff)

만약 서로 다른 자료형을 연산하면? 더 큰 자료형으로 변환된다. 이것을 `산술변환`이라고 한다.

예를 들어 `int`와 `double`을 연산하면 결과는 `double` 자료형이다.

개인적으로 너무 익숙하고 귀찮아서 실습은 생략했다.

### 연산자 우선순위

연산자 간에는 우선순위가 매겨져있다. 마치 수학에서 곱셈이 덧셈보다 먼저 계산되는 것과 같다. 이것을 `연산자 우선순위`라고 부른다.

나의 경우 이미 자주 쓰이는 우선순위는 기억하니 잘 햇갈릴 수 있는 `증감연산자`를 정리하겠다.

```
#include <stdio.h>

int main() {
	int a = 1;


	printf("++a : %d \n", ++a);

	a = 1;
	printf("a++ : %d \n", a++);
	printf("a : %d \n", a);

	a = 1;
	a = a++ + ++a + 1;
	printf("a : %d \n", a);

	return 0;
}
```

결과는 아래와 같이 나온다.

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/ca9862fd-9446-4019-a9f6-ea21abb36ade)

`++a`는 전위형(prefix), `a++`는 후위형(postfix)라고 한다. 전자의 경우 해당 변수에 먼저 +1을 후자는 결과를 계산한 이후 +1을 해준다.

다른 코드는 쉽게 이해할 수 있을 것이다. 아래의 코드는 결과가 6이 나온다.

```
a = a++ + ++a + 1;
```

먼저 `a++`로 인해서 a가 2가 된다. `a = 2 + 2 + 1`이 되고 마지막으로 후위형 연산자로 6이 되는 것이다.

연산자 우선순위는 아래와 같다. 필요하면 그때그때 찾아서 참고하는데 강의에 사진이 있어서 그대로 올려본다.

![image](https://modoocode.com/img/205C9C4F501D010E144AA9.webp)

참고로 복합대입연산자는 개인적으로 생략하였다.

### 비트연산자

이름 그대로 bit 단위에 대한 연산이다. 상대저으로 자주 사용하지는 않지만 알고 있다면 가끔 언급되며 사용된다.

비트연산자는 `&`(And연산), `|` (Or 연산), `^` (XOR 연산), `<<`, `>>` (쉬프트 연산) , `~` (반전) 등이 있다.

연산 각각에 대해서는 생략하고 실습으로 바로 넘어가겠다. 연산은 기억 안나면 그때그때 찾아보는 편이다.

```
#include <stdio.h>

int main() {
	int a = 0xAF;  // 10101111
	int b = 0xB5;  // 10110101

	printf("%x \n", a & b);   // a & b = 10100101
	printf("%x \n", a | b);   // a | b =10111111
	// XOR 두 수가 서로 같으면 0, 다르면 1.
	printf("%x \n", a ^ b);   // a ^ b = 00011010
	printf("%x \n", ~a);      // ~a = 1....1 01010000
	printf("%x \n", a << 2);  // a << 2 = 1010111100
	printf("%x \n", b >> 3);  // b >> 3 = 00010110

	return 0;
}
```

결과는 아래와 같다.

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/10088e12-109c-43f0-80f1-2102c2747617)

`~`연산의 경우 자료형의 크기에 따라서 크게 달라질 수 있으니 주의하자!

### 정리

- 다양한 산술연산자, 비트연산자 등 연산자 실습
- 산술 변환으로 인한 자료현은 꼭 주의하자.
- 연산자 우선순위를 잘 고려하자, 어렵다면 괄호를 사용하여 확실하게 하자.

### 후기

전부 알고 있는 내용이긴 했는데, 용어를 확실하게 짚고 넘어가는 시간이 되었다.

- [4-2. 컴퓨터가 음수를 표현하는 방법 (2의 보수)](./4-2.md)
