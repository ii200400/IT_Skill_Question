## 12 - 1. 포인터는 영희이다! (포인터)

- 포인터에 대한 완벽한 이해
- `*`, `&` 단항 연산자의 의미

### 포인터

메모리에 저장된 데이터의 위치 정보인 주소(address)값을 저장하는 특별한 변수를 의미한다.

32비트 OS에서는 메모리의 주소값 크기는 32비트(4바이트), 64비트 OS는 64비트(8바이트)이기 때문에 포인터의 크기도 OS의 비트에 따라서 달라진다.

### & 연산자

특정 변수의 주소값을 알고싶을 때에는 `&`를 사용한다.

전에 배운 비트연산자 `&`는 피연산자가 2개가 필요하고 지금 배우는 `&`는 피연산자가 1개(단항연산자)이기 때문에 구별이 가능하다.

포인터와 단항연산자인 `&`를 활용한 실습은 아래와 같다.

```
/* 12-1 1 & 연산자 */

#include <stdio.h>
int main() {
	//int *p;  // 라고 하거나
	int* p;  // 로 하면 된다. (이쪽이 기본형이다.)

	int a = 2;
	printf("%p \n", &a);

	p = &a;
	printf("%p \n", p);

	return 0;
}
```

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/2a7f2816-bbd3-476e-abbc-6cdce5e4ae86)

결과물을 고려해서 짚고 넘어갈 것이 있다.

- 출력값은 항상 달라진다.
  - 데이터를 어느곳에 쓸지는 실행할 때마다 달라진다는 증거이다.
- 64비트 컴퓨터 기준으로 메모리 주소의 크기는 2^64이고 16비트로 16자리수이다.

### \* 연산자

포인터를 선언할 때 사용되는 `*`과는 다른 것이다. 설명할 `*`연산자는 `&` 연산자처럼 피연산자가 1개인 단항연산자이며 주소값이 가리키는 곳의 데이터를 불러오기 위한 연산자이다.

`&` 연산자와 같이 `*`연산자는 산술연산자의 `*`와 피연산자의 개수로 구분된다. 또한 포인터의 `*`는 변수선언 시에만 사용되어 구분된다.

위의 실습에 조금 코드만 추가해서 실습을 하였다.

```
/* 12-1 1 & 연산자, * 연산자 */

#include <stdio.h>
int main() {
	//int *p;  // 라고 하거나
	int* p;  // 로 하면 된다. (이쪽이 기본형이다.)

	int a = 2;
	printf("%p \n", &a);

	p = &a;
	printf("%p \n", p);

	printf("a 의 값 : %d \n", a);
	printf("*p 의 값 : %d \n", *p);

	// 포인터와 *연산자로 값을 바꿔줄 수도 있다.
	*p = 3;

	printf("a 의 값 : %d \n", a);
	printf("*p 의 값 : %d \n", *p);

	return 0;
}
```

`*` 연산자와 연관있는 결과만을 보면 아래와 같다.

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/38fc8c37-6a98-4a19-bb98-dccb66ab75ce)

당연히 같은 주소를 가지고 같은 데이터가 출력되는 것을 알 수 있다.

포인터에 대한 추가적인 내용은 아래와 같다.

- 위처럼 포인터 `p`와 `int` 변수 `a`의 관계를 포인터 `p`는 변수 `a`를 가리킨다고 말한다.
- 포인터 또한 변수이다
  - 포인터도 메모리를 차지하며 주소값을 가지고 있다.
  - 변수이므로 당연히 값이 변할 수 있다.
  - `int** p`와 같이 선언하여 포인터 변수의 포인터를 만들 수 있다.
- 포인터가 자료형을 가지는 이유는 포인터를 활용하여 찾아간 주소를 어디까지 읽어들어야 할 지 알기 위함이다.
  - 자료형을 가지지 않는다면 가리키는 변수의 시작 주소값만 알고 있는 포인터는 연산자 `*`을 활용한 데이터 읽기에 실패할 것이다.

### 후기

2015년도에 처음 C언어 배울때도 쉽게 배웠던 포인터가 최근에 햇갈려서 미칠려고 했는데, 포인터 변수 선언시 사용하는 `*`와 주소값이 가리키는 데이터를 불러오는 연산자인 `*`를 햇갈려서 그런것으로 판명이 났다.

아주..! 햄복하다..!! (끼얏호!)

- [12-2. 포인터는 영희이다! (포인터)](./12-2.md)
