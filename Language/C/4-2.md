## 4-2. 컴퓨터가 음수를 표현하는 방법 (2의 보수)

배우는 내용

- 2 의 보수 표현법
- 정수 오버플로우란?

### 오버플로우

각 자료형에 따라서 저장할 수 있는 데이터의 범위가 정해져있다. 그 범위를 넘기면 `오버플로우`라는 현상이 생긴다.

-2147483648 부터 2147483647 까지의 정수를 저장할 수 있는 `int`자료형을 사용해서 실습을 진행해보겠다.

```
#include <stdio.h>

int main() {
  int a = 2147483647;
  printf("a : %d \n", a);

  a++;
  printf("a : %d \n", a);

  return 0;
}
```

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/15393ddd-e7af-47f8-9963-a70149a6ee42)

위의 이유는 컴퓨터의 수 표현 방식을 알아야 이해할 수 있다.

### 컴퓨터의 수 표현

솔직히 해당 부분은 글이 아니라 유튜브 동영상을 보면서 몇 번 계산하는 것이 이해가 더 좋다. 개인적으로 많이 경험해보았으므로 내가 모르는 것 기준으로

우선 `보수`는 두 수의 합이 진법의 밑수가 되게 하는 수이다. 10진수에서 4의 보수는 6이고 2의 보수는 8인 것이다.

컴퓨터의 이진수를 표현하는 방법으로는 대표적으로 `1의 보수`와 `2의 보수`가 있는데 둘의 수 표현을 먼저 살펴보면 아래와 같다.

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/dfd6ea4d-d551-4fcd-bacf-06de74868126)

> [안경잡이개발자 - 1의 보수와 2의 보수를 이해하자!](https://ndb796.tistory.com/4)

두 표현법의 공통점과 차이점은 아래와 같다.

- 음수인지 양수인지는 첫번째 수의 0과 1로 결정된다.
  - `부호화 절댓값`은 부호비트 1개와 2진수의 절댓값으로 나타낸다.
  - `1의 보수`는 부호 비트 1과 2진수의 절댓값에 대한 1의 보수로 나타낸다.
  - `2의 보수 방식` 부호 비트 1과 2진수의 절댓값에 대한 2의 보수로 나타낸다.
- `1의 보수`와 `2의 보수`는 수의 크기가 같은 음수와 양수를 더하면 0이 나온다.
  - 더했을 때 표현할 수 있는 수가 넘어가면 `초과된 자리수는 무시`된다. (오버플로우)
- 부호화 절대값과 1의 보수는 0을 표현하는 방식 2개 있어 2의 보수에 비해 표현할 수 있는 수가 하나 적다.
  - 0의 표현이 2가지인 경우 음수와 양수 사이의 연산에서 부호를 고려해야 진행이 가능하다.
- 현대에서 사용하는 컴퓨터의 수 표현 방식은 `2의 보수`이다.

이렇게 보수를 이용한 컴퓨터 계산으로 인하여 오버플로우가 생겨날 수 있기 때문에 자료형의 표현 가능 범위를 신경써주어야 한다.

참고로 부호가 없는 `unsigned int`등과 같은 자료형의 경우 그냥 첫번째 자리수를 부호로 보지 않고 크기로 취급한다.

아래의 실습으로 이해하면 좋다.

```
#include <stdio.h>

int main() {
  unsigned int b = -1;
  // %u 는 unsigned 타입 서식지정자
  printf("b 에 들어있는 값을 unsigned int 로 해석했을 때 값 : %u \n", b);

  b++;
	printf("b : %u \n", b);

  return 0;
}
```

![image](https://github.com/ii200400/IT_Skill_Question/assets/19484971/665320f2-08fd-47dd-bd27-2cfdfe82643b)

`unsigned int`가 표현할 수 있는 최대값과 오버플로우로 인해 0이 나오는 것을 볼 수 있다.

### 정리

- 컴퓨터의 수 표현 방식 `2의 보수`
- 오버플로우가 일어나는 이유는 수의 계산에서 넘어가는 자리수는 무시되기 때문

### 후기

컴퓨터 수 표현 방식을 공부하면서 추가로 덧셈이나 곱셈을 어떻게하는지 찾아봤는데, 전부를 기억하기는 어려웠지만 좋은 복습이 되었다.

- [5. 문자 입력 받기](./5.md)
